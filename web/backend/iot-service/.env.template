# 滑坡监测IoT服务环境配置模板
# 复制此文件为 .env 并填入实际值

# ===========================================
# 基础服务配置
# ===========================================
NODE_ENV=production
PORT=5100

# ===========================================
# Supabase数据库配置 (必填)
# ===========================================
# 从Supabase项目设置中获取以下信息
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ===========================================
# 可选配置
# ===========================================
# 日志级别 (debug, info, warn, error)
LOG_LEVEL=info

# 请求超时时间 (毫秒)
REQUEST_TIMEOUT=30000

# 最大请求体大小
MAX_BODY_SIZE=10mb

# ===========================================
# 华为云IoT相关配置 (可选)
# ===========================================
# 如果需要验证华为云IoT推送的签名，可以配置以下参数
# HUAWEI_IOT_SECRET=your_secret_key
# HUAWEI_IOT_VERIFY_SIGNATURE=true

# ===========================================
# 数据库表配置
# ===========================================
# 数据表名称 (默认: huawei_iot_data)
IOT_DATA_TABLE=huawei_iot_data

# ===========================================
# 监控和告警配置 (可选)
# ===========================================
# 启用性能监控
ENABLE_MONITORING=true

# 数据处理超时告警阈值 (毫秒)
PROCESSING_TIMEOUT_THRESHOLD=5000

# ===========================================
# 安全配置 (可选)
# ===========================================
# 允许的来源IP (逗号分隔，留空表示允许所有)
ALLOWED_IPS=

# 启用请求频率限制
ENABLE_RATE_LIMIT=true

# 每分钟最大请求数
MAX_REQUESTS_PER_MINUTE=1000

# ===========================================
# 配置说明
# ===========================================
# 1. SUPABASE_URL 和 SUPABASE_ANON_KEY 是必填项
# 2. 从 Supabase 项目设置 → API 中获取这些信息
# 3. 确保 Supabase 数据库中已创建 huawei_iot_data 表
# 4. 确保表的 RLS 策略允许匿名插入数据
# 5. 其他配置项可以保持默认值
